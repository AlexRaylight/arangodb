{
    "basePath": "/",
    "swaggerVersion": "1.1",
    "apiVersion": "0.1",
    "apis": [
        {
            "operations": [
                {
                    "errorResponses": [
                        {
                            "reason": "is returned when the list of endpoints can be determined successfully. <br><br>",
                            "code": "200"
                        },
                        {
                            "reason": "is returned if the action is not carried out in the system database. <br><br>",
                            "code": "400"
                        },
                        {
                            "reason": "The server will respond with *HTTP 405* if an unsupported HTTP method is used. <br><br>",
                            "code": "405"
                        }
                    ],
                    "parameters": [],
                    "notes": "Returns a list of all configured endpoints the server is listening on. For each endpoint, the list of allowed databases is returned too if set. <br><br> The result is a JSON hash which has the endpoints as keys, and the list of mapped database names as values for each endpoint. <br><br> If a list of mapped databases is empty, it means that all databases can be accessed via the endpoint. If a list of mapped databases contains more than one database name, this means that any of the databases might be accessed via the endpoint, and the first database in the list will be treated as the default database for the endpoint. The default database will be used  when an incoming request does not specify a database name in the request  explicitly. <br><br> **Note**: retrieving the list of all endpoints is allowed in the system database only. Calling this action in any other database will make the server return an error. <br><br>",
                    "summary": " Return list of all endpoints",
                    "httpMethod": "GET",
                    "examples": "<br><br><br><br><pre><code class=\"json\">shell> curl --data-binary @- --dump - http://localhost:8529/_api/endpoint\n\nHTTP/1.1 200 OK\ncontent-type: application/json; charset=utf-8\n\n[ \n  { \n    \"endpoint\" : \"tcp://127.0.0.1:37850\", \n    \"databases\" : [ ] \n  }, \n  { \n    \"endpoint\" : \"tcp://127.0.0.1:8532\", \n    \"databases\" : [ \n      \"mydb1\", \n      \"mydb2\" \n    ] \n  } \n]\n</code></pre><br>@endDocuBlock",
                    "nickname": "ReturnListOfAllEndpoints"
                }
            ],
            "path": "/_api/endpoint"
        },
        {
            "operations": [
                {
                    "errorResponses": [
                        {
                            "reason": "is returned when the endpoint was added or changed successfully. <br><br>",
                            "code": "200"
                        },
                        {
                            "reason": "is returned if the request is malformed or if the action is not carried out  in the system database. <br><br>",
                            "code": "400"
                        },
                        {
                            "reason": "The server will respond with *HTTP 405* if an unsupported HTTP method is used. <br><br>",
                            "code": "405"
                        }
                    ],
                    "parameters": [
                        {
                            "dataType": "Json",
                            "paramType": "body",
                            "required": "true",
                            "name": "description",
                            "description": "A JSON object describing the endpoint. <br><br>"
                        }
                    ],
                    "notes": "The request body must be JSON hash with the following attributes: <br><br>  <ul class=\"swagger-list\"><li>*endpoint*: the endpoint specification, e.g. *tcp://127.0.0.1:8530*  <li>*databases*: a list of database names the endpoint is responsible for.  </ul> If *databases* is an empty list, all databases present in the server will become accessible via the endpoint, with the *_system* database being the default database.  <br><br> If *databases* is non-empty, only the specified databases will become  available via the endpoint. The first database name in the *databases*  list will also become the default database for the endpoint. The default  database will always be used if a request coming in on the endpoint does  not specify the database name explicitly. <br><br> **Note**: adding or reconfiguring endpoints is allowed in the system database  only. Calling this action in any other database will make the server  return an error. <br><br> Adding SSL endpoints at runtime is only supported if the server was started  with SSL properly configured (e.g. *--server.keyfile* must have been set). <br><br>",
                    "summary": " Add new endpoint or reconfigures an existing endpoint",
                    "httpMethod": "POST",
                    "examples": "Adding an endpoint *tcp://127.0.0.1:8532* with two mapped databases  (*mydb1* and *mydb2*). *mydb1* will become the default database for the endpoint. <br><br><br><br><pre><code class=\"json\">shell> curl -X POST --data-binary @- --dump - http://localhost:8529/_api/endpoint\n{\"endpoint\":\"tcp://127.0.0.1:8532\",\"databases\":[\"mydb1\",\"mydb2\"]}\n\nHTTP/1.1 200 OK\ncontent-type: application/json; charset=utf-8\n\n{ \n  \"result\" : true, \n  \"error\" : false, \n  \"code\" : 200 \n}\n</code></pre><br><br><br> Adding an endpoint *tcp://127.0.0.1:8533* with no database names specified. This will allow access to all databases on this endpoint. The *_system* database will become the default database for requests that come in on this endpoint and do not specify the database name explicitly. <br><br><br><br><pre><code class=\"json\">shell> curl -X POST --data-binary @- --dump - http://localhost:8529/_api/endpoint\n{\"endpoint\":\"tcp://127.0.0.1:8533\",\"databases\":[]}\n\nHTTP/1.1 200 OK\ncontent-type: application/json; charset=utf-8\n\n{ \n  \"result\" : true, \n  \"error\" : false, \n  \"code\" : 200 \n}\n</code></pre><br><br><br> Adding an endpoint *tcp://127.0.0.1:8533* without any databases first, and then updating the databases for the endpoint to *testdb1*, *testdb2*, and *testdb3*. <br><br><br><br><pre><code class=\"json\">shell> curl -X POST --data-binary @- --dump - http://localhost:8529/_api/endpoint\n{\"endpoint\":\"tcp://127.0.0.1:8533\",\"databases\":[]}\n\nHTTP/1.1 200 OK\ncontent-type: application/json; charset=utf-8\n\n{ \n  \"result\" : true, \n  \"error\" : false, \n  \"code\" : 200 \n}\nshell> curl -X POST --data-binary @- --dump - http://localhost:8529/_api/endpoint\n{\"endpoint\":\"tcp://127.0.0.1:8533\",\"databases\":[],\"database\":[\"testdb1\",\"testdb2\",\"testdb3\"]}\n\nHTTP/1.1 200 OK\ncontent-type: application/json; charset=utf-8\n\n{ \n  \"result\" : true, \n  \"error\" : false, \n  \"code\" : 200 \n}\n</code></pre><br>@endDocuBlock",
                    "nickname": "AddNewEndpointOrReconfiguresAnExistingEndpoint"
                }
            ],
            "path": "/_api/endpoint"
        },
        {
            "operations": [
                {
                    "errorResponses": [
                        {
                            "reason": "is returned when the endpoint was deleted and disconnected successfully. <br><br>",
                            "code": "200"
                        },
                        {
                            "reason": "is returned if the request is malformed or if the action is not carried out  in the system database. <br><br>",
                            "code": "400"
                        },
                        {
                            "reason": "is returned if the endpoint is not found. <br><br>",
                            "code": "404"
                        },
                        {
                            "reason": "The server will respond with *HTTP 405* if an unsupported HTTP method is used. <br><br>",
                            "code": "405"
                        }
                    ],
                    "parameters": [
                        {
                            "dataType": "String",
                            "paramType": "path",
                            "required": "true",
                            "name": "endpoint",
                            "description": "The endpoint to delete, e.g. *tcp://127.0.0.1:8529*. <br><br>"
                        }
                    ],
                    "notes": "This operation deletes an existing endpoint from the list of all endpoints, and makes the server stop listening on the endpoint. <br><br> **Note**: deleting and disconnecting an endpoint is allowed in the system  database only. Calling this action in any other database will make the server  return an error. <br><br> Futhermore, the last remaining endpoint cannot be deleted as this would make the server kaputt. <br><br>",
                    "summary": " Delete and disconnects an existing endpoint",
                    "httpMethod": "DELETE",
                    "examples": "<br><br> Deleting an existing endpoint <br><br><br><br><pre><code class=\"json\">shell> curl -X DELETE --data-binary @- --dump - http://localhost:8529/_api/endpoint/tcp%3A%2F%2F127.0.0.1%3A8532\n\nHTTP/1.1 200 OK\ncontent-type: application/json; charset=utf-8\n\n{ \n  \"result\" : true, \n  \"error\" : false, \n  \"code\" : 200 \n}\n</code></pre><br><br><br> Deleting a non-existing endpoint <br><br><br><br><pre><code class=\"json\">shell> curl -X DELETE --data-binary @- --dump - http://localhost:8529/_api/endpoint/tcp%3A%2F%2F127.0.0.1%3A8532\n\nHTTP/1.1 404 Not Found\ncontent-type: application/json; charset=utf-8\n\n{ \n  \"error\" : true, \n  \"code\" : 404, \n  \"errorNum\" : 1231, \n  \"errorMessage\" : \"endpoint not found\" \n}\n</code></pre><br>@endDocuBlock",
                    "nickname": "DeleteAndDisconnectsAnExistingEndpoint"
                }
            ],
            "path": "/_api/endpoint/{endpoint}"
        }
    ]
}
